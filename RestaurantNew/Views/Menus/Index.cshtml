@model IEnumerable<RestaurantNew.Models.Menu>

@{
    ViewBag.Title = "Index";
}
<head>
    <link href="~/Content/Site.css" rel="stylesheet" />
</head>
<style>
    /*#bd1 {
        background: url('../../Image/Menu.jpeg') no-repeat center center fixed;
        background-size: cover;
    }

    .product {
        background-color: #ffffffb8;
        border-radius: 15px;
        padding: 20px 5px;
        margin-bottom: 20px;
    }

    .product > img {
        border-radius: 15px;
        box-shadow: 0 0 17px 3px #78767d;
        transition: all 280ms linear;
    }

        .product:hover > img{
            box-shadow: 0 0 12px 10px #78767d;
        }

        .product:hover > p > span {
            transition: all 280ms linear;
            
            font-weight: bold;
        }
    .Search input {
        -webkit-border-radius: 5px;
        -moz-border-radius: 5px;
        border-radius: 5px;
        border: 10px solid #222229;
        width: 175px;
        background: #b1b1b3;
        -webkit-border-radius: 10px;
        -moz-border-radius: 10px;
    }*/
   

</style>
<body id="bd1">

    <div class="col-md-12">@Html.ActionLink("Create a new menu", "Create", "Menus")</div>
    <aside>
        <div>
            @using (Html.BeginForm("Search", "Menus", FormMethod.Post))
            {
            <div class="Search">
                <div class="col-md-3">
                    <h4>Enter name of menu:</h4>

                    <input type="text" name="NameDuse">

                </div>
                <div class="col-md-3">
                    <h4>Enter from price:</h4>

                    <input type="text" name="FromPrice">

                </div>
                <div class="col-md-3">
                    <h4>Enter until price:</h4>

                    <input type="text" name="UntilPrice">

                </div>
                <div class="col-md-2">
                    <br /><br />
                    <button type="submit" value="Search" size="30" style="background-color:#b1b1b3" >Search</button>

                </div>
            </div>
            }
        </div>

    </aside>

    <div class="container ">
        <br />
        <div class="row text-center">
            @foreach (var item in Model)
            {
                <div class="col-md-4 ">
                    <div class="product">
                        <img src="@item.ImageUri" style="width: 300px; height: 200px" />
                        <p id="item">
                            <br />
                            <strong> @item.NameDose</strong>

                            <br />
                            @item.Description
                            <br />
                            <div hidden>@item.Description</div>
                            <span> @item.Price₪</span>

                           
                            @*if (Session["User"] != null)
                            {
                            <b>@((RestaurantNew.Models.ApplicationUser)Session["User"]).Username</b>
                            }*@

                            <br />
                        </p>

                        @using Microsoft.AspNet.Identity
                        @if (Request.IsAuthenticated)
                        {
                            <button class="btn" data-toggle="modal" data-target="#myModal">Buy Dose</button>
                        }

                        @*---------------------------------*@
                        
                            @Html.ActionLink("Delete", "Delete",new {id = item.IdMenu })|
                            @Html.ActionLink("Edit", "Edit", new { id = item.IdMenu })|
                            @Html.ActionLink("Details", "Details", new { id = item.IdMenu })
                        
                    </div>
                </div>
            }
        </div>
        <br />
    </div>

    <!-- Modal -->
    <div class="modal fade" id="myModal" role="dialog">
        <div class="modal-dialog">

            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4><span class="glyphicon glyphicon-shopping-cart"></span> Tickets</h4>
                </div>
                <div class="modal-body">
                    <!--iframe src="/Orders/Create" frameborder="0" width="100%" height="400px"></iframe-->
                    <form role="form" action="/Orders/Create" method="post">
                        <div class="form-group">
                            <label for="psw"> How many?</label>
                            <input type="number" class="form-control" id="count" placeholder="" name="Count" />
                        </div>

                        <input type="hidden" id="namedose" name="IdMenu" value="6" />

                        <button class="btn btn-block">
                            Pay
                            <span class="glyphicon glyphicon-ok"></span>
                        </button>


                    </form>
                </div>
                <div class="modal-footer">
                    <button type="submit" class="btn btn-danger btn-default pull-left" data-dismiss="modal">
                        <span class="glyphicon glyphicon-remove"></span> Cancel
                    </button>
                </div>
            </div>
        </div>
    </div>
</body>
